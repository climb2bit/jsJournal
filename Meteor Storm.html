<!doctype html>
<html>
<style>
    div{width:640px; height:480px;
        background:url('Resources/stars.png');}
    img{display:block;}
</style>
<div>
    <canvas id="gameCanvas" width="640" height = '480'></canvas>
</div>
<div style='display:none;'>
    <img id="rocket" src = "Resources/rocket.png">
    <img id='meteor' src = "Resources/meteor.png">
</div>
<script>
    var ctx = gameCanvas.getContext("2d");
    var x=[600,600,600,600,600];
    var y=[0,100,200,300,400];
    var speed=[-1,-2,-0.5,-1.2,-1.8];
    var a=[50,60,70,70,80,90];
    var b=[50,60,70,70,80,90];
    var rocketY=200, changeY=0, score=0;

    var gameTimer = setInterval(mainLoop, 20);
    function mainLoop(){
        moveMeteors();
        moveRocket();
    }
    function moveMeteors(){
        ctx.clearRect(0,0,640,480)
        for(var n=0;n<5;n++){
            ctx.drawImage(meteor,x[n],y[n],a[n],b[n]);
            x[n]+=speed[n];
            checkForHits(n);
            if(x[n]<-80){
                x[n]=640; y[n]=Math.random()*400;
            }
        }
    }
    function moveRocket(){
        ctx.drawImage(rocket,0,rocketY,80,80);
        rocketY+=changeY;
        score+=1;
        ctx.fillStyle='yellow';
        ctx.font='30px Arial';
        ctx.fillText("Score: "+score, 10,30);
        if((rocketY<0)||(rocketY>400)){changeY=0;}
    }
    document.onkeydown = keyPressed;
    function keyPressed(e){
        var k =e.keyCode;
        if(k==38){changeY=-3;}
        if(k==40){changeY=3;}
    }
    function checkForHits(n){
        if(Math.abs(x[n]<50)&&
           (Math.abs(rocketY-y[n])<50)){
            clearInterval(gameTimer);
            ctx.font='80px Arial';
            ctx.fillText("Game Over!", 100,250);
        }   
    }
</script>
</html>