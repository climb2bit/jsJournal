<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <title>Game Title - Fun Games!</title>
    <link rel="stylesheet" href="Template/template.css">
</head>
<body>
    <!-- Navigation Bar with Back Button -->
    <div class="game-nav">
        <a href="index.html" class="back-button">
            <span class="back-arrow">â†</span>
            <span>Back to Games</span>
        </a>
    </div>

    <div class="game-container">
        <h1 class="game-title">ğŸ® Monster Loves Apple! ğŸ®</h1>
        
        <div class="game-content">

        <div style = 'background-color:dodgerblue; width:640px;'>
            <canvas id="gameCanvas" width = "640" height = "480"></canvas>
        </div>
        <div style='display:none;'>
            <img id="apple" src = "Resources/apple.png">
            <img id='monster' src = "Resources/monster3.png">
        </div>
        </div>
    </div>
    <script>
        var ctx=gameCanvas.getContext("2d");
        var x=300, y=50, monsterX = 300, changeX = 0, score = 0;
        var gameTimer = setInterval(mainLoop,20);
        function mainLoop(){
            ctx.clearRect(0,0,640,480);
            ctx.font = "30px Arial";
            ctx.fillText("Score: "+score, 10, 30);
            ctx.drawImage(apple,x,y,80,80);
            y+=3;
            if(y>480){y=-80;x=Math.random()*600;}
            ctx.drawImage(monster,monsterX,400,80,80);
            monsterX+=changeX;
            checkForHits();
        }
        document.onkeydown = keyPressed;
        function keyPressed(e){
            var k =e.keyCode;
            if(k==37){changeX=-5;}
            if(k==39){changeX=5;}
        
        }
        function checkForHits(){
            if((Math.abs(400-y)<60)&&
                (Math.abs(monsterX-x)<60)){score+=1;y=-80;x=Math.random()*600;
        
            }
        }
        setTimeout(gameOver, 30000);
        function gameOver(){
            clearInterval(gameTimer);
            ctx.font = "80px Arial";
            ctx.fillText("Game Over!", 100, 250);
        }
    </script>
    </body>
</html>
